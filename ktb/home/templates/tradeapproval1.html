<!-- <!DOCTYPE html> -->

{% load staticfiles %}

<body>
    <html lang="en">

    <head>
        <!-- Requ/ired meta tags-->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- Title Page-->
        <title>Trade Approval</title>
        <!-- Fontfaces CSS-->
        <link href="{% static 'home/css/font-face.css' %}" rel="stylesheet" media="all">
        <!-- <link href="{% static 'home/vendor/font-awesome-5/css/fontawesome-all.min.css' %}" rel="stylesheet" media="all"> -->
        <link href="{% static 'home/vendor/font-awesome-4.7/css/font-awesome.min.css'%}" rel="stylesheet" media="all">
        <link href="{% static 'home/vendor/mdi-font/css/material-design-iconic-font.min.css'%}" rel="stylesheet" media="all">
        <!-- Bootstrap CSS-->
        <link href="{% static 'home/vendor/bootstrap-4.1/bootstrap.min.css' %}" rel="stylesheet" media="all">
        <!-- Vendor CSS-->
        <link href="{% static 'home/vendor/css-hamburgers/hamburgers.min.css' %}" rel="stylesheet" media="all">
          <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.5.0-RC1/css/bootstrap-datepicker3.standalone.min.css" rel="stylesheet">
        <!-- Main CSS-->
        <link href="{% static 'home/css/style.css'%}" rel="stylesheet" media="all">
        
    </head>

    {% include 'header.html'%}
    <!-- MAIN CONTENT-->
    <div class="main-content">
        <div class="section__content section__content--p30">
            <div class="container-fluid">

                <div class="headingtitle">
                    <div class="title">
                        <h3>
                     Trade Approval Detail
                     </h3>
                 </div>
                       <input type="text" placeholder="Filter Using TRN" class='table-search' id="table-search" data-table-search="myTable">
                  <select class="form-control" id="dropdown">
                    <option value="all" id="all" selected disabled="disabled">By Trades</option>
                      <option value="salestrade" id="salestrade">By Sales Trade</option>
                      <option value="purchasetrade" id="purchasetrade">By Purchase Trade</option>
                      <option value="cancelsales" id="cancelsales">By Cancel Sales </option>
                      <option value="cancelpurchase" id="cancelpurchase">By Cancel Purchase</option>
                      <option value="salesamendment" id="salesamendment">By Sales Amendment</option>
                      <option value="purchaseamendment" id="purchaseamendment">By Purchase Amendment</option>
                  </select>
                  </input>

</div>

 <div class="headingrow">
                {% if user.authority != 'Viewer' %}
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#entry0">
                        New Request
                    </button>
                    {% else %}
                    <button type="button" disabled class="btn btn-primary">
                        New Request
                    </button>
                    {% endif %}
                </div>

                 </div>



             <div class="boxone drag">
            <div class="scroller">
               <table class="table table0 table-striped table-dark table-bordered " id="myTable">
                  <thead>
                     <tr>
                        <th scope="col">S.N</th>
                        <th scope="col">Trade Type</th>
                        <th scope="col">Company</th>
                        <th scope="col">TRN</th>
                        <th scope="col">Buyer/ Seller Name</th>
                        <th scope="col">Trade Ref Date</th>
			                  <th scope="col">Trade Qty</th>
                        <th scope="col">Product Code</th>
                        <th scope="col">Reviewed</th>

                        <th scope="col">Status</th>

                     </tr>
                  </thead>
                  <tbody id="rowid">

                     {% for record in records %}

                     <tr>
                        <th >{{record.sn}}</th>
                        <td >{{record.types}}</td>
                        <td >{{record.company}}</td>
                        <td >{{record.trn}}</td>
                        <td>{{record.client}}</td>
                        <td >{{record.trd}}</td>
			                  <td >{{record.tuq}} {{record.contractUnit}}</td>
                        <td >{{record.product}}</td>
                        {% if record.approve1 == True %}
                        <td><input type="checkbox" checked name=""></td>
                        {% endif %}
                        {% if record.approve1 != True %}
                        <td><input type="checkbox" name=""></td>
                        {% endif %}

                        <td scope="row"><button type="button" class="btn btn-primary view" value="{{record.trn}}" data-target="#view0" data-toggle="modal">View</button>
                          {% if user.authority != 'Admin' and user.authority != 'Viewer' %}
                        <button type="button" class="btn btn-primary editbtn0" value="{{record.trn}}" data-target="#edit0" data-toggle="modal">Edit</button>
                        {% endif %}
                      </td>

                     </tr>
                     {% endfor %}

                  </tbody>
               </table>
            </div>
          </div>
         </div>
         <div class="modal fade" id="entry0" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
               <div class="modal-content">
                  <div class="modal-header">
                     <h3 class="modal-title title" id="exampleModalLabel">Trade Request Entry Data</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="card-body card-block">
                            <form action="{%url 'home:save' %}" method="post" enctype="multipart/form-data" class="form-horizontal">
                                {% csrf_token %}
                                <div class="tradeselect">
                                    <div class="col-md-6">
                                        <select class="form-control" id="tradetype-input" name="tradetype-input">
                                            <option value="company" selected="true">Select your trade type</option>
                                            <option value="Sales">Sales</option>
                                            <option value="Purchase">Purchase</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="content">
                                    <div id="sales">
                                        <div class="row form-group">
                                            <div class="col-12 col-md-4">
                                                <label for="number-input" class="form-control-label">S.N</label>
                                                <input type="text" value="{{sn}}" id="number-input" name="number-input" class="form-control">
                                            </div>
                                            <div class="col col-md-4">
                                                <label for="company-input" class=" form-control-label">Company</label>
                                                <select class="form-control" id="company-input" name="company-input" onchange="displayref()">
                                                    <option value="company" disabled="disabled" selected="true">Select Company</option>
                                                    <option value="KP">KP</option>
                                                    <option value="SL">SL</option>
                                                </select>
                                            </div>
                                            <div class="col col-md-4">
                                                <label for="traderefdate-input" class=" form-control-label">Trade Reference Date</label>
                                                <!-- <input type="date" class="form-control" id="traderefdate-input" name="traderefdate-input"/> -->
                                                <div class="datefield">
                                                    <input type="text" class="form-control" id="traderefdate-input" name="traderefdate-input">
                                                    <span>
                                    <i class="fa fa-calendar date" id="traderefdate-input-date"></i>
                                 </span>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-6">
                                                <label for="traderefno-input" class="form-control-label">Trade Reference Number</label>
                                                <input type="text" id="traderefno-input" value="" name="traderefno-input" class="form-control">
                                            </div>
                                            <div class="col col-md-6">
                                                <label for="types-input" class="form-control-label">Sales/ Cancel/Purchase Amendment</label>
                                                <select class="form-control" id="types-input" name="types-input">
                                                    <option value="Sales">Sales</option>
                                                    <option value="Cancel Sales">Cancel Sales</option>
                                                    <option value="Sales Amendment">Sales Amendment</option>
                                                    <option value="Purchase">Purchase</option>
                                                    <option value="Cancel Purchase">Cancel Purchase</option>
                                                    <option value="Purchase Amendment">Purchase Amendment</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-4">
                                                <label for="product-input" class="form-control-label">Product Code</label>
                                                <input type="text" id="product-input" name="product-input" class="form-control">
                                            </div>
                                            <div class="col col-md-4">
                                                <label for="product-name" class="form-control-label">Product Name</label>
                                                <input type="text" name="product-name" id="product-name" class="form-control" autocomplete="on">
                                            </div>
                                            <div class="col col-md-4">
                                                <label for="address-input" class="form-control-label">Country of Origin</label>
                                                <input type="text" id="origin-input" name="origin-input" class="form-control" autocomplete="on">
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-6">
                                                <label for="client-input" class="form-control-label"><span id="customer">Customer</span> Company Name in full details</span>
                                                </label>
                                                <select class="form-control" name="client-input" id="client-input">
                                                    <option value="" selected="true">Select Company</option>
                                                    {% for i in companies %}
                                                    <option value="{{i.name}}">{{i.name}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="col col-md-6">
                                                <label for="address-input" class="form-control-label">Address</label>
                                                <input type="text" id="address-input" name="address-input" class="form-control">
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-4">
                                                <label for="contractqnty-input" class=" form-control-label">Total Contract Quantity</label>
                                                <input type="text" readonly id="contractqnty-input" name="contractqnty-input" class="form-control doubleinput">
                                                <select class="form-control" id="contractunit-input" name="contractunit-input">
                                                    <option value="" selected="true">Qty</option>
                                                    <option value="MT">MT</option>
                                                    <option value="Drums">Drums</option>
                                                    <option value="KL">KL</option>
                                                    <option value="Pieces">Pieces</option>
                                                    <option value="Cartons">Cartons</option>
                                                </select>
                                            </div>
                                            <div class="col col-md-4">
                                                <label for="tolerance-input" class="form-control-label">Tolerance (in %)</label>
                                                <input type="text" id="tolerance-input" name="tolerance-input" class="form-control">
                                            </div>
                                            <div class="col col-md-4">
                                                <label for="packing-input" class="form-control-label">Packing</label>
                                                <input type="text" id="packing-input" name="packing-input" class="form-control" autocomplete="on">
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-4">
                                                <label for="contractbalanceqnty-input" class=" form-control-label">Contract Balance Quantity</label>
                                                <input type="text" readonly id="contractbalanceqnty-input" name="contractbalanceqnty-input" class="form-control doubleinput">
                                                <select class="form-control" name="contractbalanceunit-input" id="contractbalanceunit-input">
                                                    <option value="" selected="true">Qty</option>
                                                    <option value="MT">MT</option>
                                                    <option value="Drums">Drums</option>
                                                    <option value="KL">KL</option>
                                                    <option value="Pieces">Pieces</option>
                                                    <option value="Cartoons">Cartons</option>
                                                </select>
                                            </div>
                                            <div class="col col-md-4">
                                                <label for="tradeupdateqnty-input" class=" form-control-label">Trade Quantity</label>
                                                <input type="text" id="tradeupdateqnty-input" name="tradeupdateqnty-input" class="form-control doubleinput">
                                                <select class="form-control" id="contractUnit-input" name="contractUnit-input">
                                                    <option value='' selected="true">Qty</option>
                                                    <option value="MT">MT</option>
                                                    <option value="Drums">Drums</option>
                                                    <option value="KL">KL</option>
                                                    <option value="Pieces">Pieces</option>
                                                    <option value="Cartons">Cartons</option>
                                                </select>
                                            </div>

                                            <div class="col col-md-4">
                                                <label for="ratepmt-input" class=" form-control-label">Rate</label>
                                                <input type="text" id="ratepmt-input" name="ratepmt-input" class="form-control">
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-4">
                                                <label for="commissionagent-input" class=" form-control-label">Commission Agent</label>
                                                <input type="text" id="commissionagent-input" name="commissionagent-input" class="form-control" autocomplete="on">
                                            </div>
                                            <div class="col col-md-4">
                                                <label for="commissionrate-input" class=" form-control-label">Commission Rate</label>
                                                <input type="text" id="commissionrate-input" name="commissionrate-input" class="form-control">
                                            </div>
                                            <div class="col col-md-4">
                                                <label for="logisticprovider-input" class=" form-control-label">Logistics Provider</label>
                                                <input type="text" id="logisticprovider-input" name="logisticprovider-input" class="form-control" autocomplete="on">
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-6">
                                                <label for="estimatedlogisticcost-input" class=" form-control-label">Estimated Logistics Cost</label>
                                                <input type="text" id="estimatedlogisticcost-input" name="estimatedlogisticcost-input" class="form-control">
                                            </div>
                                            <div class="col col-md-6">
                                                <label for="paymentterm-input" class=" form-control-label">Payment Term (Days Against OBL Date)</label>
                                                <select class="form-control" id="paymentterm-input" name="paymentterm-input">
                                                    <option value="100% against OBL Copy Documents">100% against OBL Copy Documents</option>
                                                    <option value="10% advance & 90% against OBL Copy Documents">10% advance & 90% against OBL Copy Documents</option>
                                                    <option value="20% advance & 80% against OBL Copy Documents">20% advance & 80% against OBL Copy Documents</option>
                                                    <option value="30% advance & 70% against OBL Copy Documents">30% advance & 70% against OBL Copy Documents</option>
                                                    <option value="60% advance & 40% against OBL Copy Documents">60% advance & 40% against OBL Copy Documents</option>
                                                    <option value="100% advance against PI">100% advance against PI</option>
                                                    <option value="100% against Delivery">100% against Delivery</option>
                                                    <option value="Sight DLC">Sight DLC</option>
                                                    <option value="Usance 30 days DLC">Usance 30 days DLC</option>
                                                    <option value="Usance 45 days DLC">Usance 45 days DLC</option>
                                                    <option value="Usance 60 days DLC">Usance 60 days DLC</option>
                                                    <option value="Usance 90 days DLC">Usance 90 days DLC</option>
                                                    <option value="DAP 100%">DAP 100%</option>
                                                    <option value="20% advance & 80% DAP">20% advance & 80% DAP</option>
                                                    <option value="7 days after OBL date upon clean documents">7 days after OBL date upon clean documents</option>
                                                    <option value="10 days after OBL date upon clean documents">10 days after OBL date upon clean documents</option>
                                                    <option value="15 days after OBL date upon clean documents">15 days after OBL date upon clean documents</option>
                                                    <option value="30 days after OBL date upon clean documents">30 days after OBL date upon clean documents</option>
                                                    <option value="60 days after OBL date upon clean documents">60 days after OBL date upon clean documents</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-6">
                                                <label for="incoterm-input" class="form-control-label">Incoterm</label>
                                                <input type="text" id="incoterm-input" name="incoterm-input" class="form-control" autocomplete="on">
                                            </div>
                                            <div class="col col-md-6">
                                                <label for="pod-input" class="form-control-label">POD</label>
                                                <input type="text" id="pod-input" name="pod-input" class="form-control" autocomplete="on">

                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-6">
                                                <label for="pod-input" class="form-control-label"><span id="port">POL</span></label>
                                                <input type="text" id="pol-input" name="pol-input" class="form-control" autocomplete="on">
                                            </div>
                                            <div class="col col-md-6">
                                                <label for="eta-input" class="form-control-label">ETA</label>
                                                <!--  <input type="date" class="form-control" name="eta-input" id="eta-input" /> -->

                                                <div class="datefield">
                                                    <input type="text" class="form-control" name="eta-input" id="eta-input">
                                                    <span>
                                    <i class="fa fa-calendar date" id="eta-input-date" ></i>
                                 </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-6">
                                                <label for="etd-input" class="form-control-label">ETD</label>
                                                <!-- <input type="date" class="form-control" name="etd-input" id="etd-input" /> -->

                                                <div class="datefield">
                                                    <input type="text" class="form-control" name="etd-input" id="etd-input">
                                                    <span>
                                    <i class="fa fa-calendar date" id="etd-input-date" ></i>
                                 </span>
                                                </div>
                                            </div>
                                            <div class="col col-md-6">
                                                <label for="remark-input" class=" form-control-label">Remarks</label>
                                                <input type="text" id="remark-input" name="remark-input" class="form-control">
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <input type="submit" onclick="return Validate()" class="btn btn-primary" value="Save Details">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                            <!-- <button type="button" class="btn btn-default btn-next"  data-dismiss="modal" data-toggle="modal" data-target="#entry1">next</button> -->
                                        </div>
                                    </div>

                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- view div -->

        <div class="modal fade table1" id="view0" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title title" id="exampleModalLabel">Trade Details</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="card-body card-block">
                            <div class="displaydata">
                                <div class="description">

                                    <ul>
                                        <li>S.N :<span id="sn"></span></li>
                                        <li>Company :<span id="company"></span></li>
                                        <li>Trade Ref. Date :<span id="trd"></span></li>
                                        <li>Trade Ref. No :<span id="trn"></span></li>
                                    </ul>
                                </div>
                                <table class="table tableview table-bordered">
                                    <tbody>
                                        <tr>
                                            <th scope="col">Terms</th>

                                            <td id="type"></td>
                                        </tr>
                                        <tr>
                                            <th scope="col">Sale/Cancel Sales/Purchase/Cancel Purchase </th>

                                            <td id="types"></td>
                                        </tr>
                                        <tr>
                                            <th scope="col">Product Code</th>

                                            <td id="product"></td>
                                        </tr>
                                        <tr>
                                            <th scope="col">Product Name</th>

                                            <td id="baseproduct"></td>
                                        </tr>
                                        <th scope="col">Country of Origin</th>

                                        <td id="origin"></td>
                                        </tr>
                                        <tr>
                                            <th scope="col">Customer Name/Supplier Name in full detail </th>

                                            <td id="client"></td>
                                        </tr>
                                        <tr>
                                            <th scope="col"><span>Address </th>

                                    <td id="address">
                                    </td>
                                 </tr>
                                <!--  <tr>
                                    <th scope="col"><span>Trade  Approval </th>

                                    <td id="trade_status">Pending</td>
                                 </tr>
                                 <tr>
                                    <th scope="col"><span>Trade Approved Date
                                    </th>

                                    <td id="trade_approved_date"> NA </td>
                                 </tr> -->
                                 <tr>
                                    <th scope="col">Total Contract Quantity(MT)   </th>

                                    <td id="tcq"></td>
                                 </tr>
                                 <tr>
                                    <th scope="col"><span>Tolerance
                                    </th>

                                    <td id="tolerance">
                                    </td>
                                 </tr>
                                 <tr>
                                    <th scope="col"><span>Packing
                                    </th>

                                    <td id="packing">
                                    </td>
                                 </tr>
                                 <tr>
                                    <th scope="col"><span>Trade Quantity
                                    </th>

                                    <td id="tuq">
                                    </td>
                                 </tr>
                                 <tr>
                                    <th scope="col"><span>Contract Balance Quantity
                                    </th>

                                    <td id="contractbalanceqnty">
                                    </td>
                                 </tr>
                                 <tr>
                                    <th scope="col"><span>Rate
                                    </th>

                                    <td id="ratePMT">
                                    </td>
                                 </tr>
                                 <tr>
                                    <th scope="col">Comission Agent </th>

                                    <td id="commissionAgent"></td>
                                 </tr>
                                 <tr>
                                    <th scope="col">Comission Rate </th>

                                    <td id="commissionRate"></td>
                                 </tr>
                                 <tr>
                                    <th scope="col">Logistics Provider</th>

                                    <td id="logisticProvider"></td>
                                 </tr>
                                 <tr>
                                    <th scope="col">Estimated Logistics Cost</th>

                                    <td id="estimatedLogisticsCost"> </td>
                                 </tr>
                                 <tr>
                                    <th scope="col">Payment Term
                                    </th>

                                    <td id="paymentTerm">
                                    </td>
                                 </tr>
                                 <tr>
                                    <th scope="col">
                                       <span>
                                          Incoterm
                                    </th>

                                    <td id="incoterm">
                                    </td>
                                 </tr>
                                 <tr>
                                 <th scope="col">POL
                                 </th>

                                 <td id="pol">
                                 </td>
                                 </tr>
                                  <tr>
                                 <th scope="col">POD
                                 </th>

                                 <td id="pod">
                                 </td>
                                 </tr>

                                 <tr>
                                 <th scope="col">ETD
                                 </th>

                                 <td id="etd">10 Aug 2018
                                 </td>
                                 </tr>
                                 <tr>
                                 <th scope="col">ETA  </span>
                                            </th>

                                            <td id="eta">22 Aug 2018
                                            </td>
                                        </tr>
                                        <tr>
                                            <th scope="col">Remarks</span>
                                            </th>

                                            <td id="remarks">Good
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

                        {% if user.authority != 'Admin' %}
                        <button type="button" class="btn btn-primary manager1" id="manager1" value="">Manager 1</button>
                        {% endif %} {% if user.authority == 'Manager 2'%}
                        <button type="button" class="btn btn-primary manager2" id="manager2" value="">Manager 2</button>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <!-- edit div -->
        <div class="modal fade" id="edit0" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title title" id="exampleModalLabel">Trade Request Entry Data</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="card-body card-block">
                            <form action="{% url 'home:editTradeApproval'%}" method="post" enctype="multipart/form-data" class="form-horizontal">
                                {% csrf_token %}
                                <div class="tradeselect">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input type="text" id="edit-tradetype-input" name="tradetype-input" value="Sales" class="form-control" contenteditable="false">
                                        </div>
                                    </div>
                                </div>
                                <div class="content">
                                    <div id="sales">
                                        <div class="row form-group">
                                            <div class="col-12 col-md-4">
                                                <label for="number-input" class="form-control-label">S.N</label>
                                                <input type="text" value="{{sn}}" id="edit-number-input" name="number-input" class="form-control">
                                            </div>
                                            <div class="col col-md-4">
                                                <label for="company-input" class="form-control-label">Company</label>
                                                <select class="form-control" id="edit-company-input" name="company-input">
                                                    <option value="company" selected="true">Select Company</option>
                                                    <option value="KP">KP</option>
                                                    <option value="SL">SL</option>
                                                </select>
                                            </div>
                                            <div class="col col-md-4">
                                                <label for="traderefdate-input" class=" form-control-label">Trade Reference Date</label>
                                                <!--   <input type="date" class="form-control" id="edit-traderefdate-input" name="traderefdate-input"/>
 -->
                                                <div class="datefield">
                                                    <input type="text" class="form-control" id="edit-traderefdate-input" name="traderefdate-input">
                                                    <span>
                                    <i class="fa fa-calendar date" id="edit-traderefdate-input-date" ></i>
                                 </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-6">
                                                <label for="traderefno-input" class="form-control-label">Trade Reference Number</label>
                                                <input type="text" id="edit-traderefno-input" value="" name="traderefno-input" class="form-control">
                                            </div>
                                            <div class="col col-md-6">
                                                <label for="sales-input" class="form-control-label">Sales/ Cancel Sales/Sales Amendment</label>
                                                <select class="form-control" id="edit-types-input" name="types-input">
                                                    <option value="Sales">Sales</option>
                                                    <option value="Cancel Sales">Cancel Sales</option>
                                                    <option value="Sales Amendment">Sales Amendment</option>
                                                    <option value="Purchase">Purchase</option>
                                                    <option value="Cancel Purchase">Cancel Purchase</option>
                                                    <option value="Purchase Amendment">Purchase Amendment</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-4">
                                                <label for="product-input" class="form-control-label">Product</label>
                                                <input type="text" id="edit-product-input" name="product-input" class="form-control">
                                            </div>
                                             <div class="col col-md-4">
                                                <label for="product-name" class="form-control-label">Product Name</label>
                                                <input type="text" name="product-name" id="edit-product-name" class="form-control" autocomplete="on">
                                            </div>
                                            <div class="col col-md-4">
                                                <label for="address-input" class="form-control-label">Country of Origin</label>
                                                <input type="text" id="edit-origin-input" name="origin-input" class="form-control" autocomplete="on">
                                            </div>
                                        </div>
                                        <div class="row form-group">
                                            <div class="col col-md-6">
                                                <label for="client-input" class=" form-control-label">
                                                    <span>Company Name in full details</span></label>
                                    <select class="form-control" name="client-input" id="edit-client-input">
                                       <option value=""  selected="true">Select Company</option>
                                       {% for i in companies %}
                                       <option value="{{i.name}}">{{i.name}}</option>
                                       {% endfor %}
                                    </select>
                                 </div>
                                 <div class="col col-md-6 ">
                                    <label for="address-input" class="form-control-label">Address</label>
                                    <input type="text" id="edit-address-input" name="address-input" class="form-control">
                                 </div>
                              </div>
                              <div class="row form-group ">
                                 <div class="col col-md-4 ">
                                    <label for="contractqnty-input" class="form-control-label">Total Contract Quantity</label>
                                    <input type="text" id="edit-contractqnty-input" name="contractqnty-input" class="form-control doubleinput">
                                    <select class="form-control" name="contractunit-input" id="edit-contractunit-input">
                                       <option value="" selected="true ">Qty</option>
                                       <option value="MT">MT</option>
                                       <option value="Drums">Drums</option>
                                       <option value="KL">KL</option>
                                       <option value="Pieces">Pieces</option>
                                       <option value="Cartons">Cartons</option>
                                    </select>
                                 </div>
                                 <div class="col col-md-4 ">
                                    <label for="tolerance-input" class="form-control-label">Tolerance(in %)</label>
                                    <input type="text" id="edit-tolerance-input" name="tolerance-input" class="form-control">
                                 </div>
                                 <div class="col col-md-4">
                                  <label for="packing-input" class="form-control-label">Packing</label>
                                    <input type="text" id="edit-packing-input" name="packing-input" class="form-control" autocomplete="on">
                                 </div>
                              </div>
                              <div class="row form-group">

                                 <div class="col col-md-4">
                                    <label for="contractbalanceqnty-input" class="form-control-label">Contract Balance Quantity</label>
                                    <input type="text" id="edit-contractbalanceqnty-input" name="contractbalanceqnty-input" class="form-control doubleinput">
                                    <select class="form-control" id="edit-contractbalanceunit-input" name="contractbalanceunit-input">
                                       <option value="" selected="true">Qty</option>
                                       <option value="MT">MT</option>
                                       <option value="Drums">Drums</option>
                                       <option value="KL">KL</option>
                                       <option value="Pieces">Pieces</option>
                                       <option value="Cartoons">Cartons</option>
                                    </select>
                                 </div>
                                 <div class="col col-md-4">
                                    <label for="tradeupdateqnty-input" class="form-control-label">Trade Quantity</label>
                                    <input type="text" id="edit-tradeupdateqnty-input" name="tradeupdateqnty-input" class="form-control doubleinput">
                                    <select class="form-control" id="edit-contractUnit-input" name="contractUnit-input">
                                       <option value="" selected="true">Qty</option>
                                       <option value="MT">MT</option>
                                       <option value="Drums">Drums</option>
                                       <option value="KL">KL</option>
                                       <option value="Pieces">Pieces</option>
                                       <option value="Cartons">Cartons</option>
                                    </select>
                                 </div>
                                 <div class="col col-md-4">
                                    <label for="salesratepmt-input" class="form-control-label">Rate Per</label>
                                    <input type="text" id="edit-ratepmt-input" name="ratepmt-input" class="form-control">
                                 </div>
                              </div>
                              <div class="row form-group">
                                 <div class="col col-md-4">
                                    <label for="commissionagent-input" class="form-control-label">Commission Agent</label>
                                    <input type="text" id="edit-commissionagent-input" name="commissionagent-input" class="form-control" autocomplete="on">
                                 </div>
                                 <div class="col col-md-4">
                                    <label for="commissionrate-input" class="form-control-label">Commission Rate</label>
                                    <input type="text"  id="edit-commissionrate-input" name="commissionrate-input" class="form-control">
                                 </div>
                                 <div class="col col-md-4 ">
                                    <label for="logisticprovider-input" class="form-control-label">Logistics Provider</label>
                                    <input type="text"  id="edit-logisticprovider-input" name="logisticprovider-input" class="form-control" autocomplete="on">
                                 </div>
                              </div>
                              <div class="row form-group ">
                                 <div class="col col-md-6 ">
                                    <label for="estimatedlogisticcost-input" class="form-control-label ">Estimated Logistics Cost</label>
                                    <input type="text" id="edit-estimatedlogisticcost-input" name="estimatedlogisticcost-input" class="form-control">
                                 </div>
                                 <div class="col col-md-6 ">
                                    <label for="paymentterm-input" class="form-control-label">Payment Term (Days Against OBL Date)</label>
                                    <select class="form-control" id="edit-paymentterm-input" name="paymentterm-input">
                                       <option value="100% against OBL Copy Documents">100% against OBL Copy Documents</option>
                                       <option value="10% advance & 90% against OBL Copy Documents">10% advance & 90% against OBL Copy Documents</option>
                                       <option value="20% advance & 80% against OBL Copy Documents">20% advance & 80% against OBL Copy Documents</option>
                                       <option value="30% advance & 70% against OBL Copy Documents">30% advance & 70% against OBL Copy Documents</option>
                                       <option value="60% advance & 40% against OBL Copy Documents">60% advance & 40% against OBL Copy Documents</option>
                                       <option value="100% advance against PI">100% advance against PI</option>
                                       <option value="100% against Delivery">100% against Delivery</option>
                                       <option value="Sight DLC">Sight DLC</option>
                                       <option value="Usance 30 days DLC">Usance 30 days DLC </option>
                                       <option value="Usance 45 days DLC">Usance 45 days DLC </option>
                                       <option value="Usance 60 days DLC">Usance 60 days DLC</option>
                                       <option value="Usance 90 days DLC">Usance 90 days DLC</option>
                                       <option value="DAP 100%">DAP 100%</option>
                                       <option value="20% advance & 80% DAP">20% advance & 80% DAP</option>
                                       <option value="7 days after OBL date upon clean documents">7 days after OBL date upon clean documents</option>
                                       <option value="10 days after OBL date upon clean documents">10 days after OBL date upon clean documents</option>
                                       <option value="15 days after OBL date upon clean documents">15 days after OBL date upon clean documents</option>
                                       <option value="30 days after OBL date upon clean documents">30 days after OBL date upon clean documents</option>
                                       <option value="60 days after OBL date upon clean documents">60 days after OBL date upon clean documents</option>
                                    </select>
                                 </div>
                              </div>
                                 <div class="row form-group ">
                                 <div class="col col-md-6 ">
                                    <label for="incoterm-input" class="form-control-label">Incoterm</label>
                                    <input type="text" id="edit-incoterm-input" name="incoterm-input" class="form-control" autocomplete="on">
                                 </div>
                                 <div class="col col-md-6">
                                    <label for="pod-input" class="form-control-label"><span id="port">POD</span></label>
                                    <input type="text" id="edit-pod-input" name="pod-input" class="form-control" autocomplete="on">
                                 </div>
                              </div>
                              <div class="row form-group">
                                 <div class="col col-md-6">
                                    <label for="pod-input" class="form-control-label"><span id="port">POL</span></label>
                                  <input type="text" id="edit-pol-input" name="pol-input" class="form-control" autocomplete="on">
                                 </div>
                                 <div class="col col-md-6">
                                    <label for="edit-eta-input" class="form-control-label"><span id="time">ETA</span></label>
                                    <!-- <input type="date " class="form-control " name="eta-input " id="edit-eta-input " /> -->

                                           <div class="datefield">
                                    <input type="text" class="form-control" name="eta-input" id="edit-eta-input">
                                    <span>
                                    <i class="fa fa-calendar date" id="edit-eta-input-date"></i>
                                 </span>
                                 </div>
                                 </div>
                              </div>
                              <div class="row form-group">
                                  <div class="col col-md-6">
                                    <label for="edit-eta-input" class="form-control-label"><span id="time">ETD</span></label>
                                    <!-- <input type="date " class="form-control " name="etd-input " id="edit-etd-input " /> -->
                                           <div class="datefield">
                                    <input type="text" class="form-control" name="etd-input" id="edit-etd-input">
                                    <span>
                                    <i class="fa fa-calendar date" id="edit-etd-input-date"></i>
                                 </span>
                                 </div>
                                 </div>
                                 <div class="col col-md-6">
                                    <label for="remark-input" class="form-control-label">Remarks</label>
                                    <input type="text" id="edit-remark-input" name="remark-input" class="form-control">
                                 </div>
                              </div>
                              <div class="modal-footer">
                                 <input type="submit" onclick="return ValidateEdit()" class="btn btn-primary" value="Save Details">
                                 <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                 <!-- <button type="button " class="btn btn-default btn-next "  data-dismiss="modal " data-toggle="modal " data-target="#entry1 ">next</button> -->
                              </div>
                           </div>

                        </div>
                      </form>
                     </div>
                  </div>
               </div>
            </div>
         </div>

      </div>
    {% include 'footer.html' %}
      </div>
      </div>
      </body>
      <script type="text/javascript">
            function displayref() {

                var company = document.getElementById('company-input');
                if (company.options[company.selectedIndex].text == 'SL') {
                  document.getElementById('traderefno-input').value = "SL{{ksref|stringformat:"07d"}}";
                }
                if (company.options[company.selectedIndex].text == 'KP') {
                  document.getElementById('traderefno-input').value = "KP{{kpref|stringformat:"07d"}}";
                }
            }
        </script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {

                $("#dropdown").change(function(){

                    var id=this.value;

                    $.post("{% url 'home:gettradeapproval'%}",
                    {
                        'type':id,
                    },
                    function(data,status){
                       $('#rowid').empty();
                       for (var i = 0; i < data.data.length; i++) {
                        var str;
                        if (data.data[i].approve1==true) {str="<input type='checkbox' checked name=''>"}
                            else{str="<input type='checkbox' name=''>"}

                        $("#rowid").append("<tr><td>"+data.data[i].sn+"</th><td >"+data.data[i].types+"</td><td>"+data.data[i].company+"</td></td><td>"+data.data[i].client+"<td>"+data.data[i].trn+"</td><td>"+data.data[i].trd+"</td><td>"+data.data[i].tuq+" "+data.data[i].contractUnit+"</td><td>"+data.data[i].product+"</td><td>"+str+"</td><td scope='row'><button type='button' class='btn btn-primary view' value="+data.data[i].trn+" data-target='#view0' data-toggle='modal'>View</button>{% if user.authority != 'Admin'%}<button type='button' class='btn btn-primary editbtn0' value="+data.data[i].trn+" data-target='#edit0' data-toggle='modal'>Edit</button>{% endif %}</td></tr>");
                           //alert(data.data[i].trn);
                       }
                    });
                });



                $('.excel').click(function(){
                    if($('#dropdown').val()=='salestrade'){
                        $(this).attr('href',"{% url 'home:exportApproval' approval='salestrade'%}");
                    }
                    else if($('#dropdown').val()=='purchasetrade'){
                        $(this).attr('href',"{% url 'home:exportApproval' approval='purchasetrade'%}");
                    }
                    else if($('#dropdown').val()=='cancelsales'){
                        $(this).attr('href',"{% url 'home:exportApproval' approval='cancelsales'%}");
                    }
                    else if($('#dropdown').val()=='cancelpurchase'){
                        $(this).attr('href',"{% url 'home:exportApproval' approval='cancelpurchase'%}");
                    }
                    else if($('#dropdown').val()=='salesamendment'){
                        $(this).attr('href',"{% url 'home:exportApproval' approval='salesamendment'%}");
                    }
                    else if($('#dropdown').val()=='purchaseamendment'){
                        $(this).attr('href',"{% url 'home:exportApproval' approval='purchaseamendment'%}");
                    }
                    else{
                        $(this).attr('href',"{% url 'home:exportApproval' approval='all'%}");
                    }
                    });
                
                // for date
                $("#traderefdate-input-date").datepicker({

                }).on("changeDate", function(e) {
                   var d=new Date();
 d = e.date;
d=(d.getDate() ) + '/' + (d.getMonth() + 1)+ '/' +  d.getFullYear();

                    $('#traderefdate-input').val(d);
                    // console.log(e.date);
                    // alert('hi');
                });

                $("#eta-input-date").datepicker({

                }).on("changeDate", function(e) {
                   var d=new Date();
 d = e.date;
d=(d.getDate() ) + '/' + (d.getMonth() + 1)+ '/' +  d.getFullYear();

                    $('#eta-input').val(d);
                    // console.log(e.date);
                    // alert('hi');
                });

                $("#etd-input-date").datepicker({

                }).on("changeDate", function(e) {
                   var d=new Date();
 d = e.date;
d=(d.getDate() ) + '/' + (d.getMonth() + 1)+ '/' +  d.getFullYear();

                    $('#etd-input').val(d);
                    // console.log(e.date);
                    // alert('hi');
                });

                $("#edit-traderefdate-input-date").datepicker({

                }).on("changeDate", function(e) {
                   var d=new Date();
 d = e.date;
d=(d.getDate() ) + '/' + (d.getMonth() + 1)+ '/' +  d.getFullYear();

                    $('#edit-traderefdate-input').val(d);
                    // console.log(e.date);
                    // alert('hi');
                });

                $("#edit-eta-input-date").datepicker({

                }).on("changeDate", function(e) {
                    var d=new Date();
 d = e.date;
d=(d.getDate() ) + '/' + (d.getMonth() + 1)+ '/' +  d.getFullYear();
                    $('#edit-eta-input').val(d);
                    // console.log(e.date);
                    // alert('hi');
                });

                $("#edit-etd-input-date").datepicker({

                }).on("changeDate", function(e) {
                  var d=new Date();
 d = e.date;
d=(d.getDate() ) + '/' + (d.getMonth() + 1)+ '/' +  d.getFullYear();

                    $('#edit-etd-input').val(d);
                    // console.log(e.date);
                    // alert('hi');
                });

                // fetching product balance Qty
                var productExists = false;

                $('#product-input').focusout(function() {
            $('#contractqnty-input').val('');
            $('#contractbalanceqnty-input').val('');
                    var product = this.value;
                    var types = $('#types-input').val();
                    // alert(types);
                    $.post("{% url 'home:getproducttrace' %}", {
                            'product': product,
                            'types': types,
                        },
                        function(data, status) {
                            if (data.product == '') {
                                
                            }
                            if (data.product != '') {
                                productExists = true;
                                 $('#contractqnty-input').attr('readonly',true);
                                $('#contractbalanceqnty-input').attr('readonly',true);
                                $('#contractqnty-input').val(data.tcq);
                                $('#contractbalanceqnty-input').val(data.tbq);
                            }
                            else
                            {
                                productExists=false;
                                $('#contractqnty-input').attr('readonly',false);
                                $('#contractbalanceqnty-input').attr('readonly',false);
                            }

                        });
                });
                $('#contractqnty-input').focusout(function() {
                    // if (productExists == false) {
                        $('#contractbalanceqnty-input').val(this.value);
                    // }
                });

                $('#client-input').change(function() {

                    var company = this.value;
                    $.post("{% url 'home:fetchComp' %}", {
                            'name': company,
                        },
                        function(data, status) {

                            $('#address-input').val(data.address);
                        });
                });

                $('#tradetype-input').change(function() {
                    var type = this.value;
                    if (type == "Sales") {
                        $('#customer').text('Customer');
                    }
                    if (type == "Purchase") {
                        $('#customer').text('Supplier');
                    }
                });

                $('#edit-client-input').change(function() {

                    var company = this.value;
                    $.post("{% url 'home:fetchComp' %}", {
                            'name': company,
                        },
                        function(data, status) {

                            $('#edit-address-input').val(data.address);
                        });
                });

                $('.manager1').click(function() {
                    var trn = this.value;
                    // alesrt(trn);
                    $.post("{% url 'home:approveTrade' %}", {
                            'trn': trn,
                            'manager1': '{{i.name}}',
                            'id': 'manager1',
                        },
                        function(data, status) {

                            window.location.reload(true);
                        });

                });
                $('.manager2').click(function() {
                    var trn = this.value;
                    // alert(trn);

                    // alert($('#trn').text());
                    $.post("{% url 'home:approveTrade' %}", {
                            'trn': trn,
                            'manager2': '{{i.name}}',
                            'id': 'manager2'
                        },
                        function(data, status) {
                            // alert('done')
                            window.location.reload(true);

                        });

                });

                // editing
                // $('.editbtn0').click(function() {
                    $(document).on('click','.editbtn0',function(){
                    var trn = this.value;
                    $.post("{% url 'home:alterTradeApproval' %}", {
                            'trn': trn
                        },
                        function(data, status) {
                            if (data.types == 'Sales') {
                                $('#edit-tradetype-input').val('Sales');
                            } else {
                                $('#edit-tradetype-input').val('Purchase');
                            }
                            $('#edit-number-input').val(data.sn);
                            $('#edit-company-input').val(data.company);
                            // alert(data.tcq);
                            $('#edit-traderefdate-input').val(data.trd);
                            $('#edit-traderefno-input').val(data.trn);
                            $('#edit-types-input').val(data.types);

                            $('#edit-product-input').val(data.product);
                            $('#edit-product-name').val(data.baseproduct);
                            $('#edit-origin-input').val(data.origin);
                            $('#edit-client-input').val(data.client);
                            $('#edit-address-input').val(data.address);
                            $('#edit-contractqnty-input').val(data.tcq);
                            $('#edit-contractunit-input').val(data.contractBalanceUnit);

                            $('#edit-tolerance-input').val(data.tolerance);
                            $('#edit-packing-input').val(data.packing);
                            $('#edit-tradeupdateqnty-input').val(data.tuq);
                            $('#edit-contractUnit-input').val(data.tuqUnit);
                            $('#edit-contractbalanceqnty-input').val(data.contractBalanceQty);

                            $('#edit-contractbalanceunit-input').val(data.contractBalanceUnit);
                            $('#edit-ratepmt-input').val(data.ratePMT);
                            $('#edit-commissionagent-input').val(data.commissionAgent);
                            $('#edit-commissionrate-input').val(data.commissionRate);
                            $('#edit-logisticprovider-input').val(data.logisticProvider);

                            $('#edit-estimatedlogisticcost-input').val(data.estimatedLogisticsCost);
                            $('#edit-paymentterm-input').val(data.paymentTerm);
                            $('#edit-incoterm-input').val(data.incoterm);
                            $('#edit-pod-input').val(data.pod);
                            $('#edit-pol-input').val(data.pol);
                            $('#edit-etd-input').val(data.etd);
                            $('#edit-eta-input').val(data.eta);
                            $('#edit-remark-input').val(data.remarks);
                        });
                });
                $('#traderefno-input').keyup(function(){
                       // alert('keyup');
                    if($('#types-input').val()=='Sales Amendment' || $('#types-input').val()=='Purchase Amendment' ){
                     $.post("{% url 'home:amendValues'%}",{
                    'trn':this.value
                     },
                       function(data,status) {
                      if (data.types == 'Sales') {
                                $('#tradetype-input').val('Sales');
                            } else {
                                $('#tradetype-input').val('Purchase');
                            }
                            $('#number-input').val(data.sn);
                            $('#company-input').val(data.company);
                            $('#traderefdate-input').val(data.trd);
                            $('#traderefno-input').val(data.trn);
                            $('#types-input').val(data.types);

                            $('#product-input').val(data.product);
                            $('#origin-input').val(data.origin);
                            $('#client-input').val(data.client);
                            $('#address-input').val(data.address);
                            $('#contractqnty-input').val(data.tcq);
                            $('#contractunit-input').val(data.contractBalanceUnit);

                            $('#tolerance-input').val(data.tolerance);
                            $('#packing-input').val(data.packing);
                            $('#tradeupdateqnty-input').val(data.tuq);
                            $('#contractUnit-input').val(data.tuqUnit);
                            $('#contractbalanceqnty-input').val(data.contractBalanceQty);

                            $('#contractbalanceunit-input').val(data.contractBalanceUnit);
                            $('#ratepmt-input').val(data.ratePMT);
                            $('#commissionagent-input').val(data.commissionAgent);
                            $('#commissionrate-input').val(data.commissionRate);
                            $('#logisticprovider-input').val(data.logisticProvider);

                            $('#estimatedlogisticcost-input').val(data.estimatedLogisticsCost);
                            $('#paymentterm-input').val(data.paymentTerm);
                            $('#incoterm-input').val(data.incoterm);
                            $('#pod-input').val(data.pod);
                            $('#pol-input').val(data.pol);
                            $('#etd-input').val(data.etd);
                            $('#eta-input').val(data.eta);
                            $('#remark-input').val(data.remarks);
                    });
                  }
                });

                  $('#types-input').change(function(){

                    if($('#types-input').val()=='Sales Amendment' || $('#types-input').val()=='Purchase Amendment' ){

                      if ($('#traderefno-input').val().length!=0)
                      $.post("{% url 'home:amendValues'%}",{
                    'trn':$('#traderefno-input').val()
                     },
                       function(data,status) {
                       if (data.types == 'Sales') {
                                $('#tradetype-input').val('Sales');
                            } else {
                                $('#tradetype-input').val('Purchase');
                            }
                            $('#number-input').val(data.sn);
                            $('#company-input').val(data.company);
                            $('#traderefdate-input').val(data.trd);
                            $('#traderefno-input').val(data.trn);
                            $('#types-input').val(data.types);
                            // $('#product-name').val(data.baseproduct);
                            $('#product-input').val(data.product);
                            $('#origin-input').val(data.origin);
                            $('#client-input').val(data.client);
                            $('#address-input').val(data.address);
                            $('#contractqnty-input').val(data.tcq);
                            $('#contractunit-input').val(data.contractBalanceUnit);

                            $('#tolerance-input').val(data.tolerance);
                            $('#packing-input').val(data.packing);
                            $('#tradeupdateqnty-input').val(data.tuq);
                            $('#contractUnit-input').val(data.tuqUnit);
                            $('#contractbalanceqnty-input').val(data.contractBalanceQty);

                            $('#contractbalanceunit-input').val(data.contractBalanceUnit);
                            $('#ratepmt-input').val(data.ratePMT);
                            $('#commissionagent-input').val(data.commissionAgent);
                            $('#commissionrate-input').val(data.commissionRate);
                            $('#logisticprovider-input').val(data.logisticProvider);

                            $('#estimatedlogisticcost-input').val(data.estimatedLogisticsCost);
                            $('#paymentterm-input').val(data.paymentTerm);
                            $('#incoterm-input').val(data.incoterm);
                            $('#pod-input').val(data.pod);
                            $('#pol-input').val(data.pol);
                            $('#etd-input').val(data.etd);
                            $('#eta-input').val(data.eta);
                            $('#remark-input').val(data.remarks);
                    });
                  }
                });


                // $('.view').click(function() {
                    $(document).on('click','.view',function(){

                    $("#manager1").removeAttr("disabled");
                    var trn = this.value;
                    $.post("{% url 'home:alterTradeApproval' %}", {
                            'trn': trn
                        },
                        function(data, status) {
                            $('#sn').text(data.sn);
                            $('#company').text(data.company);
                            $('#trd').text(data.trd);
                            $('#trn').text(data.trn);
                            $('#type').text(data.types);
                            $('#types').text(data.types);
                            $('#product').text(data.product);
                            $('#baseproduct').text(data.baseproduct);
                            $('#origin').text(data.origin);
                            $('#client').text(data.client);
                            $('#address').text(data.address);
                            $('#tcq').text(data.tcq + ' ' + data.contractBalanceUnit);

                            $('#tolerance').text(data.tolerance);
                            $('#packing').text(data.packing);
                            $('#tuq').text(data.tuq + ' ' + data.tuqUnit);

                            $('#contractbalanceqnty').text(data.contractBalanceQty + ' ' + data.contractBalanceUnit);

                            $('#ratePMT').text(data.ratePMT);
                            $('#commissionAgent').text(data.commissionAgent);
                            $('#commissionRate').text(data.commissionRate);
                            $('#logisticProvider').text(data.logisticProvider);

                            $('#estimatedLogisticsCost').text(data.estimatedLogisticsCost);
                            $('#paymentTerm').text(data.paymentTerm);
                            $('#incoterm').text(data.incoterm);
                            $('#pod').text(data.pod);
                            $('#pol').text(data.pol);
                            $('#etd').text(data.etd);
                            $('#eta').text(data.eta);
                            $('#remarks').text(data.remarks);
                            $('#manager1').val(data.trn);
                            $('#manager2').val(data.trn);
                            if (data.approve1 == true) {
                              $("#manager1").attr("disabled", "disabled");
                            }

                        });
                });
            });


            // var numrege = /^([0-9_\-\.])/;
            // if(rege.test($('#uemail').val())){ //do something }
            function Validate() {

                if ($('#tradetype-input').val() != "Sales" && $('#tradetype-input').val() != "Purchase") {
                    // alert($('#tradetype-input').val());
                    $('#tradetype-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#contractbalanceqnty-input').val() <=0) {
                    alert('Balance Quantity is 0. Your are not allowed to trade.');
                    return false;
                } else if ($('#number-input').val() == ''){
                    $('#number-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#company-input').val() != 'KP' && $('#company-input').val() != 'SL') {
                    $('#company-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#traderefdate-input').val() == '') {
                    $('#traderefdate-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#traderefno-input').val() == '') {
                    $('#traderefno-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#types-input').val() == '') {
                    $('#types-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#product-input').val() == '') {
                    $('#product-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                }
                else if ($('#product-name').val() == '') {
                    $('#product-name').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#origin-input').val() == '') {
                    $('#origin-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#client-input').val() == '') {
                    $('#client-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#address-input').val() == '') {
                    $('#address-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#contractqnty-input').val() == '') {
                    $('#contractqnty-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#contractunit-input').val() == "") {
                    $('#contractunit-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    // alert($('#contractunit-input').val());
                    return false;
                } else if ($('#tolerance-input').val() == '') {
                    $('#tolerance-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#packing-input').val() == '') {
                    $('#packing-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#tradeupdateqnty-input').val() == '') {
                    $('#tradeupdateqnty-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#contractUnit-input').val() == '') {
                    $('#contractUnit-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#contractbalanceqnty-input').val() == '') {
                    $('#contractbalanceqnty-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#contractbalanceunit-input').val() == '') {
                    $('#contractbalanceunit-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#ratepmt-input').val() == '') {
                    $('#ratepmt-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#commissionagent-input').val() == '') {
                    $('#commissionagent-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#commissionrate-input').val() == '') {
                    $('#commissionrate-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#logisticprovider-input').val() == '') {
                    $('#logisticprovider-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#estimatedlogisticcost-input').val() == '') {
                    $('#estimatedlogisticcost-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#paymentterm-input').val() == '') {
                    $('#paymentterm-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#incoterm-input').val() == '') {
                    $('#incoterm-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#pod-input').val() == '') {
                    $('#pod-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#eta-input').val() == '') {
                    $('#eta-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#remark-input').val() == '') {
                    $('#remark-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else {
                    return true;
                }
            }

        function ValidateEdit() {
              // alert("something left");

                if ($('#edit-tradetype-input').val() != "Sales" && $('#edit-tradetype-input').val() != "Purchase") {
                    // alert($('#tradetype-input').val());
                    $('#edit-tradetype-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-contractbalanceqnty-input').val() <= 0) {
                    alert('Balance Quantity is 0. Your are not allowed to trade.');
                    return false;
                } else if ($('#edit-number-input').val() == '') {
                    $('#edit-number-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                }else if ($('#edit-company-input').val() != 'KP' && $('#edit-company-input').val() != 'SL') {
                    $('#edit-company-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-traderefdate-input').val() == '') {
                    $('#edit-traderefdate-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-traderefno-input').val() == '') {
                    $('#edit-traderefno-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-types-input').val() == '') {
                    $('#edit-types-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-product-input').val() == '') {
                    $('#edit-product-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                }else if ($('#edit-product-name').val() == '') {
                    $('#edit-product-name').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                }
                 else if ($('#edit-origin-input').val() == '') {
                    $('#edit-origin-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-client-input').val() == '') {
                    $('#edit-client-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-address-input').val() == '') {
                    $('#edit-address-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-contractqnty-input').val() == '') {
                    $('#edit-contractqnty-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-contractunit-input').val() == '') {
                    $('#edit-contractunit-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    // alert($('#contractunit-input').val());
                    return false;
                } else if ($('#edit-tolerance-input').val() == '') {
                    $('#edit-tolerance-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-packing-input').val() == '') {
                    $('#edit-packing-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-tradeupdateqnty-input').val() == '') {
                    $('#edit-tradeupdateqnty-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-contractUnit-input').val() == '') {
                    $('#edit-contractUnit-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-contractbalanceqnty-input').val() == '') {
                    $('#edit-contractbalanceqnty-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-contractbalanceunit-input').val() == '') {
                    $('#edit-contractbalanceunit-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-ratepmt-input').val() == '') {
                    $('#edit-ratepmt-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-commissionagent-input').val() == '') {
                    $('#edit-commissionagent-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-commissionrate-input').val() == '') {
                    $('#edit-commissionrate-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-logisticprovider-input').val() == '') {
                    $('#edit-logisticprovider-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-estimatedlogisticcost-input').val() == '') {
                    $('#edit-estimatedlogisticcost-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-paymentterm-input').val() == '') {
                    $('#edit-paymentterm-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-incoterm-input').val() == '') {
                    $('#edit-incoterm-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-pod-input').val() == '') {
                    $('#edit-pod-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-eta-input').val() == '') {
                    $('#edit-eta-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else if ($('#edit-remark-input').val() == '') {
                    $('#edit-remark-input').css({
                        'background': '#ea4b4b',
                        'color': '#fff'
                    });
                    return false;
                } else {
                    return true;
                }
            }
        </script>
   </html>
   <!-- end document
